




<div>
    <h1>Listado de Noticias</h1>
        <ul class="list-group" id="idNoticias">
            <li class="list-group-item" ng-repeat='n in $ctrl.noticias'>
                <strong>{{n.titulo}}</strong>. 
                </br>
                {{n.mensaje}} 
                <button data-ng-click="$ctrl.borrar(n.titulo)">Borrar</button>
            </li>    
        </ul>
    
    <center><button data-ng-click="$ctrl.showForm()" data-ng-hide="$ctrl.formVisibility">Añadir Noticias</button></center>
         
        <div data-ng-show="$ctrl.formVisibility">
            <h4>Alta de Noticia</h4>
            <div class="text-danger" id="idErrores">
            <!-- Mensajes de error -->
                <p ng-repeat='e in $ctrl.errorMsgs' class='text-alert'>{{e.message}}</p>
            </div>
            <br/>
            <form novalidate name="frmNoticia" ng-submit='$ctrl.altaNoticias()'> 
                <input type="text" data-ng-pattern='/^([a-z0-9_\.-]+)\ ([a-z0-9_\.-]+).{2,}$/' ng-model='$ctrl.noticia.titulo' name="titulo" placeholder="Título" required/>
                <span class="ng-invalid" data-ng-show='frmNoticia.titulo.$dirty && frmNoticia.titulo.$invalid'>
                    Mínimo 2 palabras </span>
                <input type="text" data-ng-pattern='/^\w{20,200}$/' ng-model='$ctrl.noticia.mensaje' name="mensaje" placeholder="Mensaje"/>
                <span class="ng-invalid" data-ng-show='frmNoticia.mensaje.$dirty && frmNoticia.mensaje.$invalid'>
                    Entre 20 y 200 caracteres </span>
                <input type="text" data-ng-pattern='/^([0-2][0-9]|3[0-1])(\/|-)(0[1-9]|1[0-2])\2(\d{4})$/' ng-model='$ctrl.noticia.fecha' name="fecha" placeholder="Fecha"/>
                <span class="ng-invalid" data-ng-show='frmNoticia.fecha.$dirty && frmNoticia.fecha.$invalid'>Formato dd/mm/yyyy o dd-mm-yyyy</span>
                <input name="Enviar" type="Submit" data-ng-disabled='frmNoticia.$invalid' data-ng-click="$ctrl.showForm()"/>
            </form>
        </div>
    
    </div>
        

         
